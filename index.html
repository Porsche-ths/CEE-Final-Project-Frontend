<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>myCourseVille | Assignment & Submission</title>
        <link rel="stylesheet" href="style.css"></link>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
        <script src="script_index.js" defer></script>
        <script src="script_item.js" defer></script>
        <script src="script_mcv.js" defer></script>
    </head>
    <body onload=getUserInfo();checkAccess();getItems()>
        
        <div class="head-section">
            <img id="mcv-logo" src="https://www.mycourseville.com/sites/all/modules/courseville/files/logo/cv-logo.png">
            <img id="user-profile" src="https://cdn-icons-png.flaticon.com/512/1946/1946429.png">
            <span id="user-data">653XXXXX21 ชื่อ - สกุล<br>Firstname - Lastname</span>
            <button class="log-out" onclick="openModal('log-out-modal')">Log out</button>
        </div>

        <div class="body-section">
            
            <!-- Log in pop up -->
            <div class="popup" id="log-in-popup">
                <div class="popup-container">
                    <div class="info-section" id="log-in-popup-info">
                        <img id="mcv-logo" src="https://www.mycourseville.com/sites/all/modules/courseville/files/logo/cv-logo.png" width="250px">
                        <h1>Login</h1>
                        <p>
                            Welcome to our webpage!<br>
                            Please login with your myCourseVille account
                        </p>
                    </div>
                    <div class="confirm-section">
                        <button class="btn" onclick="closeModal('log-in-popup');login_mcv()">Go to Login page</button>
                    </div>
                </div>
            </div>
            <!-- Log in pop up --> 

            <!-- Loading Token Modal -->
            <div class="modal" id="loading-token-modal">
                <div class="modal-container">
                    <h1>Loading...</h1>
                    <p>
                        We are checking your information<br>
                        It might take some time<br>
                        Please wait :)
                    </p>
                    <p>If you haven't logged in yet, please click</p>
                    <div class="confirm-section">
                        <button class="btn" onclick="closeModal('log-in-popup');login_mcv()">Go to Login page</button>
                    </div>
                </div>
            </div>
            <!-- Loading Modal -->

            <!-- Loading Assignment Modal -->
            <div class="modal" id="loading-assignment-modal">
                <div class="modal-container">
                    <h1>Loading...</h1>
                    <p>
                        We are loading your assignments<br>
                        Please wait :)
                    </p>
                </div>
            </div>
            <!-- Loading Modal -->

            <!-- Log out Modal -->
            <div class="modal" id="log-out-modal">
                <div class="modal-container">
                    <h1>Log out</h1>
                    <p>Are you sure you want to log out ?</p>
                    <div class="confirm-section">
                        <button class="yesno-button" id="yes" onclick="logout()">Yes</button>
                        <button class="yesno-button" id="no" onclick="closeModal('log-out-modal')">No</button>
                    </div>
                </div>
            </div>
            <!-- Log out Modal -->
            
            <!-- Semester Modal -->
            <div class="modal" id="semester-modal">
                <div class="modal-container">
                    <div class="info-section" id="semester-modal-info">
                        <h1>Semester</h1>
                        <button class="option semester" id="semester2022-2" onclick="selectSubjectFromSemester(2022, 2)">2022/2</button>
                        <button class="option semester" id="semester2022-1" onclick="selectSubjectFromSemester(2022, 1)">2022/1</button>
                        <button class="option semester" id="semester2021-2" onclick="selectSubjectFromSemester(2021, 2)">2021/2</button>
                        <button class="option semester" id="semester2021-1" onclick="selectSubjectFromSemester(2021, 1)">2021/1</button>
                        <br>
                        <button class="option semester" id="semester2020-2" onclick="selectSubjectFromSemester(2020, 2)">2020/2</button>
                        <button class="option semester" id="semester2020-1" onclick="selectSubjectFromSemester(2020, 1)">2020/1</button>
                        <button class="option semester" id="semester2019-2" onclick="selectSubjectFromSemester(2019, 2)">2019/2</button>
                        <button class="option semester" id="semester2019-1" onclick="selectSubjectFromSemester(2019, 1)">2019/1</button>
                    </div>
                    <div class="confirm-section">
                        <button class="cancel" onclick="closeModal('semester-modal')">Cancel</button>
                    </div>
                </div>
            </div>
            <!-- Semester Modal -->

            <!-- Subject Modal -->
            <div class="modal" id="subject-modal">
                <div class="modal-container">
                    <h1>Subjects</h1>
                    <div class="info-section" id="subject-modal-info">
                        <label><input type="checkbox"><span class="subject-check"><i></i></span></label><span class="option subject">Computer Engineering Essentials I</span><br>
                        <label><input type="checkbox"><span class="subject-check"><i></i></span></label><span class="option subject">Computer Engineering Essentials II</span><br>
                        <label><input type="checkbox"><span class="subject-check"><i></i></span></label><span class="option subject">Computer Engineering Essentials III</span><br>
                        <label><input type="checkbox"><span class="subject-check"><i></i></span></label><span class="option subject">Computer Engineering Essentials IV</span><br>
                    </div>
                    <div class="confirm-section">
                        <button onclick=createTable();confirmSubjects()>Confirm</button>
                        <button class="cancel" onclick="closeModal('subject-modal')">Cancel</button>
                    </div>
                </div>
            </div>
            <!-- Subject Modal -->

            <!-- Sort By Modal -->
            <div class="modal" id="sort-by-modal">
                <div class="modal-container">
                    <h1>Sort by</h1>
                    <button class="option sort-by" id="sort-by-assignment" onclick=sortByAssignment()>Assignment</button>
                    <button class="option sort-by" id="sort-by-done" onclick="sortByDone()">Done</button>
                    <button class="option sort-by" id="sort-by-subject" onclick=sortBySubject()>Subject</button>
                    <button class="option sort-by" id="sort-by-due-date" onclick=sortByDueDate()>Due Date</button>
                    <div class="confirm-section">
                        <button class="cancel" onclick="closeModal('sort-by-modal')">Cancel</button>
                    </div>
                </div>
            </div>
            <!-- Sort By Modal -->

            <!-- Error No Course Modal -->
            <div class="modal" id="error-modal">
                <div class="modal-container">
                    <h1>Error</h1>
                    <p>No course in the selected Semester</p>
                    <div class="confirm-section">
                        <button class="cancel" onclick="closeModal('error-modal')">Close</button>
                    </div>
                </div>
            </div>
            <!-- Error No Course Modal -->

            <!-- Error No Assignment Modal -->
            <div class="modal" id="error-no-as-modal">
                <div class="modal-container">
                    <h1>Luck's on your side!</h1>
                    <p>No assignment in the selected Course</p>
                    <div class="confirm-section">
                        <button class="cancel" onclick="closeModal('error-no-as-modal')">Close</button>
                    </div>
                </div>
            </div>
            <!-- Error No Assignment Modal -->

            <!-- Menu Bar -->
            <div class="menu-section">
                <h1>ASSIGNMENTS & SUBMISSION</h1>
                <img class="menu-items" id="filter-icon" src="images/filterMenu.png" width="35px">
                <button class="menu-items" id="semester-button" onclick="openModal('semester-modal')">SEMESTER</button>
                <button id="log-out" onclick="openModal('sort-by-modal')">SORT BY</button>
                <img class="menu-items" id="sort-by-icon" src="images/sortingMenu.png" width="35px" onclick="toggleSort()">
            </div>
            <!-- Menu Bar -->

            <!-- Assignment Table -->
            <div>
                <table id="assignments-table">
                    <tr class="table-head">
                        <th class="check-col">Done</th>
                        <th class="assignment-col">Assignment</th>
                        <th class="subject-col">Subject</th>
                        <th class="date-col">Due Date</th>
                        <th class="time-col">Due Time</th>
                        <th>Note</th>
                        <th class="save-col">Save</th>
                    </tr>
                </table>
            </div>
            <!-- Assignment Table -->
        </div>
    </body>
</html>